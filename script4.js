const comp = [['Hey man'],['Where have you been lol'],['But are you down to play tonight for a bit'],['Damn bro', 'Sounds lame af'],['Screw grades','Who even cares about school anyways'], ['Lol I dropped out a while ago', 'Wasn’t worth my time'], ['Who cares what your parents think goddamn', 'You need to lighten up'],['Ok good', 'I need to play with a good teammate for once'],['Nah bro its mainly just you'],['LMAO you think you’re good you died round 2 last time'],['That’s always your excuse tho'],['Lol just be like me and never play badly', 'That’s the best solution'], ['Whatever man', 'Can we start playing or what'], ['What map are we choosing this time'], ['Nahhh','You remember there’s like 5 more spawn points on that map than the others right'],['Let\'s go with Downtown'], ['Yea so this is a redemption round', 'Gotta make up for last time'], ['Word', 'What class are you choosing'], ['Go sniper', 'I’ll be going shotgun/grenadier'], ['See this is already better than last time'],['Lol don’t even remind me of that', 'What sniper are you going with'], ['Ayyyy good choice man'], ['We better* kill this round'], ['Ha','Ha ha','Optimism is naive'],['Yeah', 'Like who actually believes that things will work out','Most of the time things go badly'],['Yes it is','Like what happened last time we played','That was terrible'],['Ik it’s just a game', 'It’s more than that tho'],['Idk man', 'Its usually the things you don\'t expect'],['No you dumbass','Like the big things','Like getting fired from a job'],['Trust me','You\’ll know what it\’s like soon','If your boss doesn\’t like you, you\’re screwed from the start'],['That\’s what everyone says','Until your boss calls you “unqualified” in front of everyone else','And fires you on the spot'],['When did I say that happened to me','I just made that up on the spot lol'],['Damn', 'You don\'t believe me', 'Now my vibe is ruined for this run'],['Fine', 'What shotty should I pick'],['Yeah but Downtown is cramped af','I want to be able to spray down hordes of zombies'],['Yeah that one could work','Not sure if I\’ve used it before but I\’ve heard it\’s good'],['Yeah','Maybe it won\'t be so bad'], ['Fuck off dude'], ['Sure let me call you real quick'],[],['Hey'],['Not much has changed since yesterday'],['Oh lol', 'I’ve been solo queueing for like 8 hours today already'],['Too much most of the time', 'What else am I supposed to do lol'],['Damn you\’re coming at me today haha'],['It wasn’t consecutive','I had two bathroom breaks and a 15 minute lunch break'],['Maybe','Just means I\'m dedicated'],['Shut up bro', 'You\’re obviously lying'],['That\’s ridiculous','I would never forget to eat are you joking'],['Chill bro 8 hours is nowhere near 48','And besides I’m not addicted'],['Hold on let me check','Oh shit','I have 3,829 hrs'],['The game\’s been out for like 6 years','It\'s rly not that bad','I\’m sure there’s people with more time'],['I don’t even play every day tho'],['See that’s not that bad','You\’ve definitely spent way more time in school'],['It\’s only mandatory until high school','And what makes it so much more useful'],['There\’s plenty of jobs that don\’t require an education','Like competitive MS'],['No','I\'m just giving examples'],['But for real','I could probably go pro soon'],['Yeah', 'Why'],['???'],['Wow','First you tell me to be “optimistic” or something and now you’re telling me I\’m being unrealistic'],['Yeah but I could train','Like right now I\’m playing casually','But in a few months if I practice right things could be different'],['I\'ll play solo','Trust me','This has to work out', 'It has to'],['Anyways','Want to play a few rounds tonight?'],['Are u mocking me'],['U suck bro','Let\'s just play'],['Yeah, let\'s do that for the first go','It worked pretty well last time ngl'],['This time tho I\’ll hold back more','If I\’m gonna go pro I gotta play like the pros'],['Let\’s get it'],[],['Hey man'],['Are you down to play tonight?'],['Lmao me too honestly','Although it has been a few days since we last played'],['The grind?'],['OHH that','It’s mad tough','Idrk how to train properly lol'],['Like a club?','Not sure how to do that either'],['I guess','What if they don’t respond'],['If this was anything but MS I probably would’ve given up already','3,800 hours does something to you man','It feels like I\’m destined to do something amazing in this game'],['Could you imagine being a pro MS player','You\’d be set for life','You\’d just get to game all day and make bank from tournaments and forget about the rest of the world'],['Trust me','If you’re getting paid like they do, you won\’t be complaining'],['Yeah maybe but they make enough to get by','It\’s like professional athletes','Even being on the bench is good enough'],['Whatever bro','If it works out it\’ll all be worth it'],['Idk','Probably keep doing what I\’ve been doing'],['Do Uber driving in the mornings, chill at home the rest of the time'],['Of what'],['Sometimes it\'s not that bad','Other times it sucks ass'],['And do what','Everything\’s expensive af','Restaurants, movies, travel, all of it costs way to much on top of rent, gas, electricity, water, etc.'],['College is such a scam','Imagine spending 70k per year on a useless degree and being in debt forever','Could never be me'],['That\’s what I’ve been saying','How are you supposed to make any money if you\’re stuck spending it all on loans'],['Or you could just not go to college'],['Whatever','You\’ll figure it out soon enough'],['Lol','What happened to the optimism'],['Lmao I\’m just messing around','We should start playing soon tho'],['Word','I\’m gonna try an assault rifle build','You want to stay back again?'],['Try that with motion activated claymores','Helps prevent flanking'],['What map are we feeling'],['Ayy I was thinking that too','You ready to go?'],[],['Hey'],['This sucks dude'],['This whole “going pro” thing'],['Nothing happened','That’s the problem','I contacted a bunch of clubs and none of them responded'],['Still','It\’s kinda sad that I haven\’t heard back from anyone'],['So they probably will never respond'],['Idk','The clips I sent in weren\’t even that good'],['Yeah','It was mostly team plays','Not much solo action'],['True','But everyone is also nice by themselves on club teams'],['Idk bro','I\’m getting kinda nervous'],['Fuck dude','I have to go pro','There\’s no way I can keep living like this'],['How can I not say that','Every day is a fucking grind man','I\’m so tired of this shit'],['I\’ve been playing for hours and hours every day','And none of these dumbass clubs care'],['It\’s not even about the game anymore','I just need to do something with myself'],['That doesn\’t make nearly enough','By the time you refill your car you lose half of what you made'],['Will they really tho?','Will anything really work out?'],['You know','You remind me a lot of my little bro'],['Yeah','He was always trying to look on the bright side of things','Always knew the right thing to say/do'],['Nah','He lives pretty far these days','Still tries to keep in touch with the family tho'],['Yeah','He\’s the nicest','Idk if I\’d still be here without him'],['...','Idk if I should tell you','It\’s personal shit'],['Hmm','Fair point I guess'],['Nah it\’s ok','Basically my dad is pretty fucked up','My bro and I were sitting on the couch one day','And my dad comes home from work and sees us sitting there','Normally he would walk right by and head for the fridge','But this time he was mad','And by mad, I mean like MAD mad','He comes straight up to us and swats the remote out of my hand','Then he spews some bullshit about how he\’s the only one who cares about the family','And how my bro and I need to learn how lucky we are','And how he\’s gonna teach me a lesson','Then he grabs me by the throat cause I\’m the older one','Starts wailing on my face like a punching bag','Doesn\’t stop for three whole minutes','By then my eyes were swollen shut so I couldn\’t see what happened next','All I remember is hearing my brother shout as he knocked my dad out with a cast-iron pan','The police came a few minutes later and took my dad away','I still have the scars on my cheek'],['Yeah','I still can\’t believe it all happened sometimes','Like my dad was fucked up but before that day he had never hit me like that'],['It\'s fine','He\’s been gone for a while now'],['Yeah','It\’s disappointing honestly','To know that you came from a man like that','I don’t like talking about it much'],['Eh','I\’m mostly over it','Anyways we should probably start a round soon it\'s getting late'],['For sure','Haywire part 2?'],['Yeah lol','Camping the bar is so op'],['Cool','I\’ll go dual wield handcannons'],['Go frags bro','You\’re gonna need some sort of damage lol'],['Yeah just give me one sec','Ok','Calling you now'],[],['Hey bro'],['Man I\’m sorry','I just haven\’t been feeling like playing lately'],['Not really'],['Ok well there\’s one thing that could be better'],['Yeah...','They all responded','But none of them wanted me'],['It\’s alright','I knew most of them wouldn\’t think I was good enough','I just wasn\’t expecting all of them to say no, you know'],['See that’s the thing','They were awful','They basically called me a shitty player and said I wasn\’t worth their time','All of them'],['Like 10 bro','The most effort I\’ve put into anything in a while lol'],['Yeah true but like it\’s still so depressing','Like I put in all this time for nothing','And I\’m stuck in the same rundown apartment with nothing to show for it'],['Why does that even matter tho','It\’s not like I\’m gonna apply for those kinds of things anymore'],['If it only takes one then why didn’t any of my 10 work?','You don\’t get it bro'],['None of that matters if I’m not qualified tho','Like I couldn\’t apply for any of the jobs that require a college degree','That\’s why I wanted to be a pro MS player so badly'],['Yeah maybe, but that’s the exception','High school dropouts hardly get good jobs'],['Come on man','I\’m not trying to go back to school','There\’s a reason why I left in the first place'],['I just didn’t see the point of it','And it wasn\’t like my parents cared at all','So one day I was just like screw it and I just stopped going'],['Bro you sound like a college admissions person'],['Yeah I guess you have a point','But like what employer is gonna care about some stupid online degree'],['True','I don\’t even know what I would get a degree in tho'],['That\’s the issue tho','Nothing rly seems that appealing','It all seems the same to me'],['Like computer science?'],['It\’s complicated af tho','Have u even looked at a piece of code'],['Wait a sec','How long will it take to get that degree'],['Fuck','I can\'t do that','There\’s no way I can pay rent that long'],['I haven\’t been','I\’ve missed the past two months of rent','My landlord is threatening to kick me out if I don\’t pay for this month soon'],['Basically','And look where that got me'],['My brother already gave me a lot last summer','And besides him there\’s no one else to turn to','My mom and dad can\’t afford to and they probably wouldn\’t help me if they could'],['They\’re all pretty much broke as well','The ones who didn\’t go to college are in the same situations as me','And the ones who did are in debt from student loans'],['Yeah','I was thinking about starting at DoorDash this week'],['That\’s the goal','It\’s pretty much my last chance at this point'],['Me too man, me too','Anyways let\'s play some MS before my landlord cuts off my Internet access'],['Are u going medic again'],['I\’m gonna join u with that','Dual sniper gang ftw'],['Lol doubtful','You down to play on Jungle?'],['Ready as I’ll ever be'],[],['Yo'],['I gotta tell u something man'],['I don\’t think I\’m gonna be able to play MS with u anymore'],['I got evicted yesterday','Rent was due and I was short about a hundred dollars','But my (former) landlord was pissed and threatened to call the cops if I didn\’t leave'],['Ik bro','I think he was mainly just tired of hearing me trying to come up with excuses'],['Yeah lol he\’s a rly weird guy','Sometimes I hear him shouting at like 3 in the morning'],['I have absolutely no clue','He doesn\’t live with anyone'],['Who knows man'],['I hope so','Although I don\’t rly know where to go from here'],['I\’m gonna crash at my bro\’s place for a bit','He said he\’d let me stay for a month or so','If I still can\’t find anything he\’s gonna boot me'],['Work my ass off until I can afford something','I might try to get an RV','That way I could sell my car and live out of that'],['Yeah there\’s one main one','Although last I heard my dad was holed up there','So I might have to go a bit further'],['DoorDash is kinda overrated ngl','Maybe I just don\’t live near any rich people lol'],['Yeah I was thinking about that','Maybe I\’ll do that now that I don\’t have to come back home every day'],['Lmao you\’re still gonna bring that up?','I thought that died out a while ago lol'],['As long as u keep saying so','I\’m totally convinced'],['No dumbass','I\’m pulling your leg'],['Lol I thought that was pretty obvious'],['Gotta be better than that bro','You know I mess with you all the time'],['Anyways bro','I guess I kinda wanted to say goodbye','This might be the last time we talk for a while','And even though things might work out, it might take a long time for me to find a stable living situation'],['I hope you\’re right','I guess I also wanted to apologize','Ik you\’ve been invested in this game for a while too','And you\’ll have to find someone to replace me now'],['Ok','That means a lot man'],['Thanks man','I never thought I would say this','But I’m gonna miss this'],['Maybe things will work out soon and it’ll all be back to normal'],['I know so'],['Hahaha you’re trusting me?','Since when was that a good idea'],['I meant in real life, not in MS u dumbass'],['Damn bro','Why you gotta make this so emotional man'],['Lol','I promise I\’ll be back soon man','Don\’t forget about me anytime soon'],['Lmao how could I forget all the times you\’ve died in the first 5 rounds'],['LOL','This game will always be a part of me man'],['Ok well I should probably get going'],['Thanks man','I\’ll talk to u whenever I get the next chance to play'],['See you then'],[]];

const user = [['Hey bro'], ['Sry I’ve been rly busy lately', 'There hasn’t been much time to play Modern Shooter lol'], ['Idk man I have a big essay I gotta do for tomorrow'], ['Yo chill it’s worth like 30 percent of my grade'],['Uhhh', 'Are u joking'],['Oh', 'That\'s cool too', 'I don\'t think my parents would let me do that tho lmao'],['Ok ok fine maybe ur right'],['Lol do u not have any other friends who play MS?'],['Ayyy', 'Good to hear I\'m the best around'],['Come on man I was having a bad day'],['What’s wrong with having excuses?'],['Lmao ur intolerable'],['Alright fine but only for a bit'],['How about Crater','I haven\’t played that one in a while'],['Oh shoot ur right'],['Dude r u serious we played that last time'], ['Ok fine but this time u get powerups, I\’ll stay back'],['Sniper seems good for range, but I could also go medic for support if u want'],['Ok ya I\’ll choose medic secondary then'],['True…','Light Machine Gun/smokes was probably a bad call'],['Probably the RM-89'],['We\'re gonna kill this round'],['Lol u gotta be more optimistic man'],['Naive?'],['Uhh','That can\'t be true'],['Ok but its just a game','And it wasn\’t even that bad we played again and it worked out fine'],['Like what','What\’s gone so badly for u'],['Like the weather?'],['Dude I\’ve never worked before lol'],['Ya whatever','I think I\'ll be fine'],['Oh damn I\’m sorry to hear that','Things will get better tho I\’m sure'],['Lol ok', 'Whatever u say man'],['Come on man don\’t quit on me now','I already stopped working on my essay for this'],['Go with the MZ-7','It fires slugs as opposed to spray'],['Good point', 'Maybe the Romy?'],['Trust me it\’s very good','This run is looking better already'],['There u go','Optimism at its finest lol'],['HAHAHA','Ok are we ready to go?'],['Let\’s make this round count'],[],['What\'s up man'],['Lol ofc not','I was more using what\’s up as a greeting'],['Jesus how much time do u have'],['Idk maybe be productive at something'],['Sry I didn’t mean to sound like that','It\’s just that 8 hours is a while to play consecutively'],['LOL','That\’s basically consecutive'],['More like addicted','U know I saw an article about a guy who died playing some RPG for 48 hours straight'],['I\’m serious','He literally forgot to eat and drink cause he was speedrunning or something'],['Ya me neither but some people are insane man','Aka u'],['Ya right','How many hours do u have on MS?'],['WTF','How is that even possible!?'],['Ya, maybe like 1 person','Seriously tho do u even understand how much time that is?'],['U do realize that u\'ve spent OVER 159 DAYS on this game','That\’s almost half a year'],['That\’s completely different tho','School is mandatory and actually useful'],['Uhhh','Maybe the fact that u basically need an education to get a job'],['Are u seriously trying to tell me that u think ur good enough to go pro'],['Ok...'],['Remember what I said about optimism yesterday'],['This isn\’t what I meant by that'],['All I\’m saying is that u shouldn\’t be unrealistic'],['I\’m just saying','It\’s fucking hard to play pro MS','Those guys are insanely good and u know it'],['Do u seriously think I\’m good enough to train u to become a pro?','Besides I don\’t have enough time'],['I hope ur right'],['Sure','Can\’t wait to help train the next MS world champ'],['No… I wouldn’t dare'],['Hahahahaha','Same loadout as last time?'],[' Ayyy u right'],['Facts','R u ready?'],[],['Hey dude'],['Ya sure but only if we don\’t play Downtown again','I\’m sick of that map'],['True','Speaking of which how\’s the grind going?'],['The pro grind','Remember what u said last time'],['U should probably try to contact someone if ur serious about it'],['Lol just shoot an email to the big ones and see if they respond','Can\’t be that difficult'],['Just keep trying, idk','U can\’t give up that easily'],['For sure man just keep trying','We\’ll see what ends up happening'],['Idk man I feel like I would get bored of MS after like 2 months'],['Maybe ur right','But not everyone makes a ton of money u know'],['Ya but most clubs have super small teams','U have to be the best of the best to make a team at all'],['What r u gonna do if it doesn\’t work out'],['Which is…?'],['I see','Do u ever get tired of it'],['The same thing over and over'],['Ya… I get that','Maybe u should try to get out more'],['Damn man I get it','My parents are always hesitant to go out these days','With college costs being so high they\’ve been trying to save up'],['U have a point I guess','College is way too expensive in the US'],['Fuck bro I rly hope I get good financial aid next year'],['Bro that\’s not an option for me tho','My parents are hellbent on sending me off'],['I hope ur right'],['I know* ur right','Is that better?'],['Ya let\'s do that','Don\’t want to overthink the future too much'],['Sure bro','I\’ve been wanting to try out the new chain gun loadout so I\’ll go with that'],['Sounds good to me'],['How bout Haywire','I\’m in the mood to camp'],['Sure just call whenever'],[],['Yo'],['???'],['Oh boy','What happened'],['It\’s only been a week tho','Give it some time'],['These are big organizations','They probably get hundreds of emails a day'],['Who knows man','Maybe someone will see potential in u'],['U think?'],['Hey that\’s honestly better','Club teams have tons of chemistry'],['Don\’t stress about it man','I\’m sure it\’ll work out'],['Head up man'],['Don\’t say that'],['Come on man','Things could be worse'],['That\’s not true','Something could still happen'],['Aren\’t u an Uber driver tho?'],['It\’s ok man','Things will work out'],['Of course things will work out','Ur dirty at MS, anyone who says otherwise is blind'],['Do I?'],['Huh','Do u two still talk much?'],['Sounds like a nice guy'],['Wait wdym'],['Who would I tell tho','I don\’t even know who u are in the real world'],['U don\’t have to talk about it tho if u don\’t want to'],['Holy shit man','I don\’t know what to say','Ur so lucky ur brother was brave enough to do that','I don\’t think I could\’ve done any of what he did'],['Jesus man I\’m so sorry u had to live through that'],['Still','That\’s messed up'],['I don\’t blame u man','Thanks for sharing','I know that must\’ve been difficult'],['Ya definitely','That\’ll help get my mind off of all this'],['Totally','We got so far last time'],['Ya true lol','I\’m gonna go medic this time'],['Should I go with shocks or frags?'],['True','Ok are we ready?'],['See u on the other side'],[],['Hey man'],['So','Where have u been lol'],['Is something wrong?'],['...U sure'],['Let me guess','Something happened with the clubs?'],['Damn man','That sucks'],['Were they at least nice about it?'],['Damn bro these clubs need to lighten up','How many did u email again?'],['Hey man it\’s ok','We talked about what you\’d do if this happened'],['Well it can\’t all be bad','At least u went through the process of applying for these clubs'],['But at least u applied for something man','That\’s all it takes to get u out of ur situation','Just one application'],['I meant that it only takes one offer to get u out of ur situation','And the more u apply, the better chances u have'],['There r plenty of people who\’ve been hired into well paying jobs without college educations'],['Well maybe u should look into online college','Tons of people get online degrees every year'],['Speaking of which why did u leave in the first place?'],['Wait but do u not see the point of it now?','Can\’t u see that it opens a ton of opportunities?'],['LMAO shut up','U know what I mean'],['A degree is a degree','You\’ll for sure be more qualified than someone without one'],['Choose something that interests u'],['That\’s so false there\’s so many different majors out there','Why not something related to video games?'],['Ya','Comp sci is perfect for an online degree'],['Ofc bro I’m taking a comp sci class rn','It\’s rly not as bad as ur making it sound'],['Comp sci?','Usually takes about 4 years at a traditional college, it might be shorter online tho'],['Wait how have u been surviving up to this point?'],['So u were banking on pro MS to be ur savior'],['Damn bro I\’m so sorry','Is there anyone u can ask for help?'],['Oh shit','Do u have any friends that could help?'],['Damn','Maybe u can crash at someone\’s place for a bit','Try to find some other ways to make money'],['That could be good','I hear if u deliver to rich neighborhoods they give u nice tips'],['Ya no kidding','Hope it works out bro'],['Oh shoot ya I forgot they can do that','Let\'s get going then'],['Nah, I\’m going back to the good old sniper'],['Hahaha let\’s gooo','Ez dubs only'],['Sure','U ready?'],[],['Hey dude'],['What’s up?'],['!!!','Why not?'],['Jesus man','That\’s so unnecessarily harsh'],['Hahahaha that\’s probably it lol'],['Wtf would he be shouting at lmao'],['He\’s probably shouting at his TV or something'],['Who knows indeed','In any case ur better off without that crazy guy watching over u'],['Do u have somewhere u can go?'],['At least he\’s willing to help u out','What\’s ur plan for this next month'],['That might not be a bad idea','Are there any trailer parks around u'],['Ooof ya u might be better off moving away','How\’s Ubering and DoorDashing going?'],['Lol that might be an issue','U should drive somewhere nice and just camp out there','You\’d make so much bank'],['See lol that’s an upside to all this','Keep up the optimism'],['Nah it’s still going strong'],['Wait actually?!'],['U suck bro','It\’s hard af to distinguish sarcasm on here'],['I had a feeling but I wasn\’t sure'],['True true'],['Hey man don\’t worry about a thing, ok?','It\’ll all work out soon','I promise u bro'],['Dude don\’t stress about that','I\’ll find someone, don’t worry','And if I don\’t, I\’ll be ready to play whenever u come back'],['Just trying my best to help out'],['Me too man','We\’ve been playing for a while','Sad to see it end like this'],['I hope so'],['Lol','I’m trusting u to keep up the optimism even if I\’m not here'],['Since forever bro','I know u always have my back'],['So did I','Even though we don\’t know each other in real life we still talk about real life things','And I know that I got ur back','So I hope that u have mine'],['Lol I wasn\’t trying to','Kinda just came out poetic I guess'],['Of course not','Same goes for u about me tho'],['Hahahaha','Or all the times you\’ve forgotten to revive me'],['Same here bro'],['Ok','Good luck with the rest of ur journey bro','I believe in u'],['I\’ll be waiting','See u on the other side man'],[],['Hey man'],['It’s been a while.'],['And I know u promised me that u would come back eventually'],['But deep down I knew that was never gonna happen'],['I know a lot of things weren\’t going right for u.'],['And I know that what I said wasn\’t enough to fix ur problems...'],['I just wish I could\’ve done more to help, u know?'],['It felt like I was powerless'],['Just watching u drown in a sea of broken dreams and failed ambitions'],['Some part of me wants to believe that ur out there doing just fine'],['The other part of me thinks ur gone forever'],['In case u ever see this'],['I\’ll try to update u about my life'],['I’m starting college tomorrow.'],['I tried to keep up with MS'],['But after u left I stopped playing and haven\’t played since'],['I couldn’t bring myself to'],['U see, I never told u this'],['But I always looked forward to our conversations more than our gaming sessions'],['Made me feel less alone sometimes'],['I guess none of that matters anymore tho'],['Everything has to come to a close eventually'],['So I guess this is it'],['If u ever see this, know that I\’m still waiting for u man'],['That’s never gonna change'],['I miss u bro'],['More than I ever could\’ve expected']];

var str = ''; // String that builds when the user presses a key down
var indexOfArray = 0; // Index of large user array
var indexOfString = 0; // Index of string within array
var indexOfLetter = 0; // Index of letter in string being built
var compWord = 0; // Index of large comp array
var timer = 0; // Delay for computer responses
var done = false; // Checks if the computer is done typing out all of the messages
var makeEmpty = false; // Checks whether or not to clear the textarea
var day = 0; // Day the conversation is taking place
var userTurn = false; // Checks who is starting conversation
var compGone = false; // Checks for the final end condition
var clicked = false; // Checks if button to

$('document').ready(function(){
  $('#popShadow').hide(0);
  $('#popup').find('b').html(getDate(day));
  $('#popShadow').fadeIn(1000);
});

// works
$('#goTo').on('click', function(){
  // horizontal line
  if (!clicked){
    clicked = true;
    $('#texts').append('<div class="lineGroup"><div class="line"></div>' + getDate(day) + '<div class="line"></div></div>');
    $('#texts').animate({scrollTop: $('#texts').prop('scrollHeight')}, 50);
    day++;

    if(!compGone) {
      $('#availability').css('background-color', 'green');
      $('#availableText').find('i').html('Online');
      document.getElementById('msg').removeAttribute('readonly');
      if(!userTurn)
      {
        document.getElementById('msg').setAttribute('readonly', 'readonly');
        isArrayMore();
      }
    } else {
      document.getElementById('msg').removeAttribute('readonly');
    }
    $('#popShadow').fadeOut(800, function(){
      $('#popShadow').hide(0);
    });
  }
});

function getDate(day){
  var dates = ['May 23, 2019', 'May 24, 2019','May 27, 2019','June 3, 2019','June 20, 2019','July 1, 2019','August 19, 2020'];

  return dates[day];
}

// works
$('#msg').on('input', function(){
  if(!makeEmpty){
    if(str == user[indexOfArray][indexOfString]){
      this.value = str;
    } else {
      this.value = buildString();
      indexOfLetter++;
    }
  } else {
    this.value = this.value.replace(/\n/g,'');
    this.value = '';
    makeEmpty = false;
  }
});


// HAS BEEN MODIFIED WITHOUT TESTING
$('#msg').on('keypress', function(k){
  if($('#msg').attr('readonly') && done){
    document.getElementById('msg').removeAttribute('readonly');
    done = false;
  }

  if(str == user[indexOfArray][indexOfString]){
    var code = (k.keyCode ? k.keyCode : k.which);
    if (code == 13) {

      str = '';

      if(indexOfArray == 199){
        $('#texts').append('<div class="comp" id="cannotSend" style="background-color: transparent; color:#d80303;"><i>Any messages sent will not be received as the person you are trying to contact is currently offline.</i></div>');
        $('#texts').animate({scrollTop: $('#texts').prop('scrollHeight')}, 300);
      }

      insert();
      makeEmpty = true;
      this.value = this.value.replace(/\n/g,'');
      this.value = '';
      indexOfString ++;
      indexOfLetter = 0;

      if (indexOfString >= user[indexOfArray].length){
        this.setAttribute('readonly', 'readonly');
        indexOfString = 0;
        indexOfArray ++;

        if(user[indexOfArray] != undefined && user[indexOfArray].length == 0 && comp[compWord].length == 0){
          endOfDay();
        } else if(!compGone){
          isArrayMore();
        } else {

          //this or other else statement
          document.getElementById('msg').removeAttribute('readonly');

          // alert('Your message will not be received as the person you are trying to reach is currently offline.');
          // super end condition --> only runs at the very end of code
          if (indexOfArray >= user.length){
            this.setAttribute('readonly', 'readonly');
            setTimeout(function(){
              $('#black').fadeIn(2000);
            },2000);
          }
        }
      }
    }
  }
});

function buildString(){
  if (indexOfLetter >= user[indexOfArray][indexOfString].length || indexOfString >= user[indexOfArray].length){
    return str;
  } else {
    str += user[indexOfArray][indexOfString][indexOfLetter];
    return str;
  }
}

function insert(){
  $('#texts').append('<div class="user">' + user[indexOfArray][indexOfString] + "</div>");
  $('#texts').animate({scrollTop: $('#texts').prop('scrollHeight')}, 300);
}

function compResponse(arr){
  $('#texts').append('<div class="comp">' + arr + "</div>");
  $('#texts').animate({scrollTop: $('#texts').prop('scrollHeight')}, 300);
  if (comp[compWord-1].length - 1 == comp[compWord-1].indexOf(arr)){
    done = true;
    $('#msg').keypress();
    endOfDay();
  }
}

function isArrayMore(){
  comp[compWord].forEach(function(e){
    timer += time(e);
    setTimeout(function(){
      compResponse(e);
    }, timer);
  });

  timer = 0;
  compWord++;

  if (compWord+1 >= comp.length)
  {
    compGone = true;
  }
}

function endOfDay(){
  if (user[indexOfArray].length == 0 && comp[compWord].length == 0)
  {
    document.getElementById('msg').setAttribute('readonly', 'readonly');
    compWord++;
    indexOfArray++;

    //hardcoded values here
    if(indexOfArray==130){
      userTurn=true;
    } else {
      userTurn =false;
    }

    $('#popup').find('b').html(getDate(day));

    setTimeout(function(){
      //hardcoded values here
      if(indexOfArray!=199){
        $('#call').css('visibility','visible');
      }
      setTimeout(function(){
        $('#black').fadeIn(1000);
        setTimeout(restart, 2000);
      }, 1500);
    }, 2000);
  }
}

function restart(){
  $('#call').css('visibility','hidden');
  $('#availability').css('background-color', '#5F6267');
  $('#availableText').find('i').html('Offline');
  clicked = false;
  $('#popShadow').fadeIn(300);
  $('#black').fadeOut(1000);
}

// timer dependent on string size
function time(item){
  console.log(item.length);
  // if(item.length>13){
  //   return item.length*125;
  // } else if(item.length>5){
  //   return item.length*275;
  // } else {
  //   return 2000;
  // }
  return 2000;
}
